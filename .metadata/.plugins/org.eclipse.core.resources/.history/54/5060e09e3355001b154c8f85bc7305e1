import java.io.DataInputStream;
import java.io.IOException;
import java.util.ArrayList;

public class Member {
	String name;
	ArrayList<Member> friends = new ArrayList<>();
	ArrayList<Post> wall = new ArrayList<>();
	ArrayList<Member> requestsList = new ArrayList<>();
	ArrayList<Page> likedPages= new ArrayList<>();
	ArrayList<Group> groups = new ArrayList<>();  
	
	public Member(String name) {
		
		this.name = name;
		
	}
	
	public void addRequest(Member member) {
		if(friends.indexOf(member)<0) {
			requestsList.add(this);
		}
		
	}
	public void accept(Member member) {
		friends.add(member);
		requestsList.remove(member);
		System.out.println("La demande est acceptée! Vous amis avec "+ member.name);
	}
	public void refuse(Member member) {
		requestsList.remove(member);
		System.out.println("La demande est réjetée.");
	}
	public void post(Member member) {
		System.out.println("Exprimer vous!");
		DataInputStream s = new DataInputStream(System.in);
		try {
			Post post = new Post(s.readLine(), this);
			member.wall.add(post);
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
	public void likePage(Page page) {
		this.likedPages.add(page);
		page.likes++;
	}
	public void joinGroup(Group group) {
		this.groups.add(group);
		group.jointedMembers++;
	}
	public void manageEntity(Entity entity) {
		if(entity.managerList.contains(this)) {
			//TODO add manager
		}else {
			System.out.println("Acces Denied");
		}
	}
	public String Profile(Member member) {
		String posts="";
		String friends ="";
		String groups ="";
		String pages ="";
		for(Post p : member.wall)
			posts += p.toString()+"\n";
		for(Member m : member.friends)
			friends+= m.name+"\t|";
		for(Page p : member.likedPages)
			pages += p.name+"\t|";
		for(Group g : member.groups)
			groups+= g.name+"\t|";
		return "[name= "
				+member.name+ ", \nFriends=  "
				+friends+"Groups "+groups+"\nLiked Pages"+pages+ ",\nPosts = "
				+ posts+ "]";
	}

	
	
	
}
